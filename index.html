<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" type="image/png" href="favicon.png">
<title>Damage Tracker</title>
<link rel="stylesheet" href="style.css">
<script src="hptracker.js"></script>
</head>
<body>

<div class="center">
	<table class="ctable">
	<tbody><tr><th colspan="4" class="title">Roster</th></tr></tbody>
	<tbody id="figures">
	</tbody>
	<tbody>
		<form onsubmit="return false">
		<tr>
		  <th class="name" colspan="2"><input id="newName" list="names" placeholder="Unit name..." /></th>
		  <th class="hp" colspan="2"><input id="newHP" type="number" value="10" /></th>
    </tr><tr>
      <th class="group" colspan="2"><input id="newGroup" list="groups" placeholder="Group name..." /></th>
		  <th class="button" colspan="2"><button class="add" onclick="addCharacter(document.getElementById('newName').value, document.getElementById('newHP').value, document.getElementById('newGroup').value)" type="submit"><img src='meeple-plus.png'/></button></th>
    </tr>
    <datalist id="names"></datalist>
    <datalist id=groups></datalist>
		</form>
	</tr>
	</tbody>
	</table>

	<script>
	let searchParams = new URLSearchParams(window.location.search)

	if(searchParams.has('names') && searchParams.has('groups') && searchParams.has('hps')) {
		var names = searchParams.get('names').split(',')
    var groups = searchParams.get('groups').split(',')
		var hps = searchParams.get('hps').split(',').map(Number)
		if(names.length == hps.length && hps.length == groups.length) {
			for(i in names) {
				roster.addCharacter(names[i], hps[i], groups[i]);
			}
		}
	}
	updateTable();
	</script>
	&nbsp;

	<table class="ctable">
	<tbody>
	<tr>
		<th class="button"><button class="add" onclick="fullReset()"><img src='files.png'/></button></th>
		<th class="button"><button class="add" onclick="resetHP()"><img src='cycle.png'/></button></th>
		<th class="button"><button class="add" onclick="window.location.href = 'import.html';"><img src='load.png'/></button></th>
		<th class="button"><button class="add" onclick="copyURL()"><img src='save.png'/></button></th>
		<th class="button"><button class="add" onclick="window.location.href='https://github.com/markblokpoel/hptracker'"><img src='help.png'/></button></th>

	</tr>
	</tbody>
	</table>
</div>

<div class="center">
	<p>v0.3.0</p><p>Copyright Mark Blokpoel. Icons by <a href="https://game-icons.net/">https://game-icons.net/</a>
	<a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.</p>
</div>
</body>
</html>
